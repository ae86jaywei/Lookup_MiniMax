<ContextMenu x:Key="LookupContextMenu" 
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    Background="#FF2D2D2D" 
                    Foreground="White"
                    BorderBrush="#FF3C3C3C"
                    BorderThickness="1">
    
    <ContextMenu.Resources>
        <Style x:Key="MenuItemStyle" TargetType="MenuItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#FF3C3C3C"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,5,25,5"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FF404040"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Foreground" Value="#FF666666"/>
                    <Setter Property="Cursor" Value="Arrow"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="HeaderMenuItemStyle" TargetType="MenuItem">
            <Setter Property="Background" Value="#FF1E1E1E"/>
            <Setter Property="Foreground" Value="#FFCCCCCC"/>
            <Setter Property="BorderBrush" Value="#FF3C3C3C"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Cursor" Value="Arrow"/>
        </Style>
        
        <Style x:Key="SeparatorStyle" TargetType="Separator">
            <Setter Property="Background" Value="#FF3C3C3C"/>
            <Setter Property="Height" Value="1"/>
            <Setter Property="Margin" Value="5,2"/>
        </Style>
    </ContextMenu.Resources>

    <!-- æ ‡ç­¾ç®¡ç† -->
    <MenuItem Header="åˆ é™¤æŸ¥å¯»æ ‡ç­¾" 
              Style="{StaticResource MenuItemStyle}"
              Click="DeleteTagMenuItem_Click"
              Tag="DeleteTag">
        <MenuItem.Icon>
            <TextBlock Text="ðŸ—‘ï¸" FontSize="12"/>
        </MenuItem.Icon>
    </MenuItem>

    <!-- åŠ¨ä½œé€‰æ‹©é›†å­èœå• -->
    <MenuItem Header="åŠ¨ä½œé€‰æ‹©é›†" 
              Style="{StaticResource HeaderMenuItemStyle}"
              Tag="ActionSelectionSet">
        <MenuItem Header="æ–°å»ºé€‰æ‹©é›†" 
                  Style="{StaticResource MenuItemStyle}"
                  Click="NewSelectionSetMenuItem_Click"
                  Tag="NewSelectionSet">
            <MenuItem.Icon>
                <TextBlock Text="âž•" FontSize="12"/>
            </MenuItem.Icon>
        </MenuItem>
        <MenuItem Header="ä¿®æ”¹é€‰æ‹©é›†" 
                  Style="{StaticResource MenuItemStyle}"
                  Click="ModifySelectionSetMenuItem_Click"
                  Tag="ModifySelectionSet">
            <MenuItem.Icon>
                <TextBlock Text="âœï¸" FontSize="12"/>
            </MenuItem.Icon>
        </MenuItem>
    </MenuItem>

    <Separator Style="{StaticResource SeparatorStyle}"/>

    <!-- æŸ¥å¯»è¡¨ -->
    <MenuItem Header="æ˜¾ç¤ºæŸ¥å¯»è¡¨" 
              Style="{StaticResource MenuItemStyle}"
              Click="ShowLookupTableMenuItem_Click"
              Tag="ShowLookupTable">
        <MenuItem.Icon>
            <TextBlock Text="ðŸ“‹" FontSize="12"/>
        </MenuItem.Icon>
    </MenuItem>

    <Separator Style="{StaticResource SeparatorStyle}"/>

    <!-- åŠ¨ä½œç®¡ç† -->
    <MenuItem Header="é‡å‘½ååŠ¨ä½œ" 
              Style="{StaticResource MenuItemStyle}"
              Click="RenameActionMenuItem_Click"
              Tag="RenameAction">
        <MenuItem.Icon>
            <TextBlock Text="ðŸ·ï¸" FontSize="12"/>
        </MenuItem.Icon>
    </MenuItem>

    <Separator Style="{StaticResource SeparatorStyle}"/>

    <!-- æ˜¾ç¤ºæŽ§åˆ¶ -->
    <MenuItem Header="æ˜¾ç¤ºæ‰€æœ‰åŠ¨ä½œ" 
              Style="{StaticResource MenuItemStyle}"
              Click="ShowAllActionsMenuItem_Click"
              Tag="ShowAllActions">
        <MenuItem.Icon>
            <TextBlock Text="ðŸ‘ï¸" FontSize="12"/>
        </MenuItem.Icon>
    </MenuItem>
    
    <MenuItem Header="éšè—æ‰€æœ‰åŠ¨ä½œ" 
              Style="{StaticResource MenuItemStyle}"
              Click="HideAllActionsMenuItem_Click"
              Tag="HideAllActions">
        <MenuItem.Icon>
            <TextBlock Text="ðŸ™ˆ" FontSize="12"/>
        </MenuItem.Icon>
    </MenuItem>

    <Separator Style="{StaticResource SeparatorStyle}"/>

    <!-- å±žæ€§å’Œè®¾ç½® -->
    <MenuItem Header="å±žæ€§" 
              Style="{StaticResource MenuItemStyle}"
              Click="PropertiesMenuItem_Click"
              Tag="Properties">
        <MenuItem.Icon>
            <TextBlock Text="âš™ï¸" FontSize="12"/>
        </MenuItem.Icon>
    </MenuItem>
    
    <MenuItem Header="è®¾ç½®..." 
              Style="{StaticResource MenuItemStyle}"
              Click="SettingsMenuItem_Click"
              Tag="Settings">
        <MenuItem.Icon>
            <TextBlock Text="ðŸ”§" FontSize="12"/>
        </MenuItem.Icon>
    </MenuItem>

</ContextMenu>