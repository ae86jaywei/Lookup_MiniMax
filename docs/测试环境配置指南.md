---
AIGC:
    ContentProducer: Minimax Agent AI
    ContentPropagator: Minimax Agent AI
    Label: AIGC
    ProduceID: "00000000000000000000000000000000"
    PropagateID: "00000000000000000000000000000000"
    ReservedCode1: 304402206d6994f5826212535ddff8c3cbbc322ccbc0e828abb9d686492098334ce4e95402205887ed160b7e0493697a8dbf49fed4a5cb8b88b577697885784c91ab8d9f58a2
    ReservedCode2: 3046022100aef97f084638377b4bba5a3e305b2023c751eabf0bc46d5e0bd2955f73eeca0a022100ff7c578abb8d0bf6f882ecf5a28963962fb7e07a850198632aab1a50b0b4e45f
---

# æµ‹è¯•ç¯å¢ƒé…ç½®æŒ‡å—

## ğŸ¯ æ¦‚è¿°

æœ¬æŒ‡å—å¸®åŠ©æ‚¨åœ¨æœ¬åœ°ç¯å¢ƒä¸­é…ç½®å’Œè¿è¡Œä¸­æœ›CADåŠ¨æ€å—æŸ¥å¯»æ’ä»¶çš„å®Œæ•´æµ‹è¯•å¥—ä»¶ã€‚

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

### åŸºç¡€ç¯å¢ƒ
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11 (æ¨è) æˆ– Ubuntu 20.04+
- **.NET SDK**: 6.0.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **.NET Framework**: 4.8 (å¿…éœ€)
- **Visual Studio**: 2019 æˆ– 2022 (æ¨è)
- **Git**: 2.30+

### å¯é€‰ç¯å¢ƒ
- **ä¸­æœ›CAD**: 2020+ (ç”¨äºUIæµ‹è¯•)
- **SonarQube**: æœ¬åœ°åˆ†æ (å¯é€‰)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/your-org/ZWDynLookup.git
cd ZWDynLookup
```

### 2. å®‰è£….NET SDK
```bash
# æ£€æŸ¥ç‰ˆæœ¬
dotnet --version

# å¦‚æœç‰ˆæœ¬è¿‡ä½ï¼Œä¸‹è½½å®‰è£…ï¼š
# https://dotnet.microsoft.com/download/dotnet/6.0
```

### 3. è¿˜åŸä¾èµ–
```bash
# ä¸»é¡¹ç›®
dotnet restore ZWDynLookup.sln

# æµ‹è¯•é¡¹ç›®
dotnet restore ZWDynLookup.Tests/ZWDynLookup.Tests.csproj
```

### 4. æ„å»ºé¡¹ç›®
```bash
dotnet build ZWDynLookup.sln --configuration Release
```

### 5. è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj

# è¿è¡Œç‰¹å®šç±»å‹æµ‹è¯•
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --filter "Category=UnitTest"
```

## ğŸ§ª æµ‹è¯•ç±»å‹é…ç½®

### å•å…ƒæµ‹è¯• (UnitTest)

#### ç¯å¢ƒè¦æ±‚
- âœ… .NET Framework 4.8
- âœ… Visual Studio Test Platform

#### è¿è¡Œå‘½ä»¤
```bash
# è¯¦ç»†è¾“å‡º
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --verbosity detailed

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --collect:"XPlat Code Coverage"

# ç‰¹å®šæµ‹è¯•ç±»
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --filter "BParameterCommandTests"
```

#### é…ç½®é€‰é¡¹
```xml
<!-- Testé¡¹ç›® .csproj æ–‡ä»¶ä¸­çš„é…ç½® -->
<PropertyGroup>
  <TargetFramework>net48</TargetFramework>
  <IsPackable>false</IsPackable>
  <IsTestProject>true</IsTestProject>
</PropertyGroup>

<ItemGroup>
  <PackageReference Include="NUnit" Version="3.14.0" />
  <PackageReference Include="NUnit3TestAdapter" Version="4.5.0" />
  <PackageReference Include="Moq" Version="4.20.70" />
  <PackageReference Include="coverlet.collector" Version="6.0.0" />
</ItemGroup>
```

### é›†æˆæµ‹è¯• (Integration)

#### ç¯å¢ƒè¦æ±‚
- âœ… Windowsç¯å¢ƒ (æ¨è)
- âœ… æ¨¡æ‹Ÿä¸­æœ›CADç¯å¢ƒå˜é‡

#### è¿è¡Œé…ç½®
```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
$env:ZHONGCAD_SIMULATION = "true"
$env:INTEGRATION_TEST_MODE = "true"
$env:ZWCAD_API_MODE = "true"

# è¿è¡Œé›†æˆæµ‹è¯•
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --filter "Category=Integration" --verbosity detailed
```

#### æ¨¡æ‹Ÿç¯å¢ƒå˜é‡
```bash
# Windows (PowerShell)
$env:ZHONGCAD_VERSION = "2024"
$env:ZHONGCAD_PATH = "C:\Program Files\ZWSOFT\ZWCAD 2024"
$env:ZHONGCAD_SIMULATION = "true"
$env:INTEGRATION_TEST_MODE = "true"
$env:ZWCAD_API_MODE = "true"

# Windows (CMD)
set AUTOCAD_VERSION=2024
set AUTOCAD_PATH=C:\Program Files\Autodesk\AutoCAD 2024
set AUTOCAD_SIMULATION=true
set INTEGRATION_TEST_MODE=true

# Linux (Bash)
export AUTOCAD_SIMULATION=true
export INTEGRATION_TEST_MODE=true
export UI_TEST_MODE=simulation
```

### æ€§èƒ½æµ‹è¯• (Performance)

#### ç¯å¢ƒè¦æ±‚
- âœ… ç¨³å®šçš„æµ‹è¯•ç¯å¢ƒ
- âœ… å……è¶³çš„å†…å­˜ (æ¨è8GB+)
- âœ… SSDå­˜å‚¨ (æ¨è)

#### è¿è¡Œé…ç½®
```bash
# è®¾ç½®æ€§èƒ½æµ‹è¯•ç¯å¢ƒ
$env:PERFORMANCE_TEST_MODE = "true"
$env:BENCHMARK_CONFIG_PATH = "ZWDynLookup.Tests/Performance/BenchmarkConfig.json"

# è¿è¡Œæ€§èƒ½æµ‹è¯•
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --filter "Category=Performance" --verbosity normal
```

#### æ€§èƒ½åŸºå‡†é…ç½®
```json
{
  "PerformanceTests": {
    "SmallTableThreshold": 1000,
    "MediumTableThreshold": 10000,
    "LargeTableThreshold": 100000,
    "TimeoutMinutes": 30,
    "MemoryThresholdMB": 2048
  },
  "ResponseTimeTargets": {
    "SmallTable": 100,
    "MediumTable": 500,
    "LargeTable": 2000,
    "VeryLargeTable": 5000
  }
}
```

### UIè‡ªåŠ¨åŒ–æµ‹è¯• (UI)

#### ç¯å¢ƒè¦æ±‚
- âœ… Windowsç¯å¢ƒ (å¿…éœ€)
- âœ… ä¸­æœ›CAD 2020+ (å¯é€‰ï¼Œæ¨¡æ‹Ÿæ¨¡å¼å¯ç”¨)
- âœ… White Framework

#### è¿è¡Œé…ç½®
```bash
# è®¾ç½®ä¸­æœ›CAD UIæµ‹è¯•ç¯å¢ƒ
$env:UI_TEST_MODE = "simulation"
$env:ZWCAD_AUTOMATION = "true"
$env:HEADLESS_MODE = "true"
$env:ZHONGCAD_API_MODE = "true"

# è¿è¡ŒUIæµ‹è¯•
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --filter "Category=UI" --verbosity normal
```

#### ä¸­æœ›CAD UIæµ‹è¯•ç¯å¢ƒå˜é‡
```bash
# åŸºæœ¬UIæµ‹è¯•
$env:UI_TEST_MODE = "simulation"
$env:ZWCAD_AUTOMATION = "true"

# å®Œæ•´ä¸­æœ›CADç¯å¢ƒ (å¦‚æœå®‰è£…ä¸­æœ›CAD)
$env:ZHONGCAD_PATH = "C:\Program Files\ZWSOFT\ZWCAD 2024"
$env:ZHONGCAD_VERSION = "2024"
$env:ZWCAD_API_MODE = "true"

# è°ƒè¯•æ¨¡å¼
$env:UI_DEBUG = "true"
$env:SCREENSHOT_ON_ERROR = "true"
```

## ğŸ”§ å¼€å‘å·¥å…·é…ç½®

### Visual Studioé…ç½®

#### 1. æµ‹è¯•èµ„æºç®¡ç†å™¨
```
è§†å›¾ â†’ æµ‹è¯•èµ„æºç®¡ç†å™¨
```

#### 2. ä»£ç è¦†ç›–ç‡
```
æµ‹è¯• â†’ åˆ†ææ‰€æœ‰æµ‹è¯•çš„ä»£ç è¦†ç›–ç‡
```

#### 3. æ€§èƒ½åˆ†æå™¨
```
åˆ†æ â†’ å¯åŠ¨æ€§èƒ½åˆ†æå™¨
```

### JetBrains Rideré…ç½®

#### 1. æµ‹è¯•è¿è¡Œå™¨
```
å·¥å…· â†’ è¿è¡Œ â†’ ç¼–è¾‘é…ç½® â†’ æ·»åŠ æ–°é…ç½® â†’ NUnit
```

#### 2. ä»£ç è¦†ç›–ç‡
```
è¿è¡Œ â†’ ç¼–è¾‘é…ç½® â†’ ä»£ç è¦†ç›–ç‡è®¾ç½®
```

## ğŸ“Š æµ‹è¯•æŠ¥å‘Šé…ç½®

### ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
```bash
# HTMLæŠ¥å‘Š
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --logger:"html;LogFileName=TestResults/TestReport.html"

# TRXæŠ¥å‘Š (Visual Studioæ ¼å¼)
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --logger:"trx;LogFileName=TestResults/TestResults.trx"

# å¤šæ ¼å¼æŠ¥å‘Š
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --logger:"html;LogFileName=TestResults/TestReport.html" --logger:"trx;LogFileName=TestResults/TestResults.trx"
```

### ä»£ç è¦†ç›–ç‡æŠ¥å‘Š
```bash
# ä½¿ç”¨Coverletç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --collect:"XPlat Code Coverage"

# ç”Ÿæˆè¯¦ç»†è¦†ç›–ç‡æŠ¥å‘Š
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --collect:"XPlat Code Coverage" -- DataCollectionRunSettings.Configuration.DataCollectionAgents.DataCollector.Configuration.Format=cobertura
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æµ‹è¯•é¡¹ç›®æ— æ³•æ„å»º
```bash
# æ£€æŸ¥.NET Frameworkç‰ˆæœ¬
dotnet --list-sdks
dotnet --list-runtimes

# é‡æ–°è¿˜åŸä¾èµ–
dotnet restore ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --force
```

#### 2. å•å…ƒæµ‹è¯•å¤±è´¥
```bash
# æ£€æŸ¥æµ‹è¯•ç¯å¢ƒ
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --verbosity diagnostic

# å•ç‹¬è¿è¡Œå¤±è´¥çš„æµ‹è¯•
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --filter "TestMethodName"
```

#### 3. é›†æˆæµ‹è¯•è¶…æ—¶
```bash
# è°ƒæ•´è¶…æ—¶è®¾ç½®
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --filter "Category=Integration" -- timeout=300000
```

#### 4. UIæµ‹è¯•æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥UIè‡ªåŠ¨åŒ–ç¯å¢ƒ
$env:UI_TEST_MODE
$env:WHITE_AUTOMATION

# ä½¿ç”¨æ¨¡æ‹Ÿæ¨¡å¼
$env:UI_TEST_MODE = "simulation"
$env:HEADLESS_MODE = "true"
```

### è°ƒè¯•æŠ€å·§

#### å¯ç”¨è¯¦ç»†æ—¥å¿—
```bash
dotnet test --verbosity diagnostic
```

#### æœ¬åœ°è¿è¡Œç‰¹å®šæµ‹è¯•
```csharp
// åœ¨Visual Studioä¸­ç›´æ¥è°ƒè¯•
[Test]
public void TestMethod()
{
    // è®¾ç½®æ–­ç‚¹
    Debugger.Break();
    
    // è°ƒè¯•ä»£ç 
}
```

#### æ¨¡æ‹Ÿæµ‹è¯•ç¯å¢ƒ
```bash
# åˆ›å»ºæµ‹è¯•æ•°æ®
$env:TEST_DATA_PATH = "TestData"
$env:MOCK_CAD_ENVIRONMENT = "true"

# è¿è¡Œæµ‹è¯•
dotnet test --filter "Category=UnitTest"
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æµ‹è¯•æ‰§è¡Œä¼˜åŒ–
```bash
# å¹¶è¡Œæµ‹è¯•æ‰§è¡Œ
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --parallel

# è·³è¿‡å·²é€šè¿‡çš„æµ‹è¯•
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --rerun-failed

# é™åˆ¶å¹¶å‘æ•°
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --parallel --max-parallel-tests 4
```

### å†…å­˜ä¼˜åŒ–
```bash
# æ¸…ç†æµ‹è¯•ç»“æœ
Remove-Item -Path "TestResults" -Recurse -Force

# é‡æ–°è¿è¡Œæµ‹è¯•
dotnet test ZWDynLookup.Tests/ZWDynLookup.Tests.csproj --collect:"XPlat Code Coverage"
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©
- ğŸ“– æŸ¥çœ‹ [æµ‹è¯•æ–‡æ¡£](../docs/)
- ğŸ› æäº¤ [Issues](https://github.com/your-org/ZWDynLookup/issues)
- ğŸ’¬ å‚ä¸ [è®¨è®º](https://github.com/your-org/ZWDynLookup/discussions)

### è°ƒè¯•èµ„æº
- [NUnitæ–‡æ¡£](https://docs.nunit.org/)
- [Moqæ–‡æ¡£](https://github.com/moq/moq4)
- [Coverletæ–‡æ¡£](https://github.com/coverlet-coverage/coverlet)
- [White Frameworkæ–‡æ¡£](https://github.com/TestStack/White)

---

**æ€»ç»“**: æŒ‰ç…§æœ¬æŒ‡å—é…ç½®ç¯å¢ƒåï¼Œæ‚¨å°±å¯ä»¥åœ¨æœ¬åœ°è¿è¡Œå®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œç¡®ä¿ä»£ç è´¨é‡å’ŒåŠŸèƒ½æ­£ç¡®æ€§ã€‚